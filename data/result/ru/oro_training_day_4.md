# OroCommerce Training – Day 4 (таймкоды и структура)

## Введение и план дня
**00:00:00 – 00:01:03**
* Введение в тему дня.
* Обзор целей: сущности, UI (Data Grid, View/Create/Update), переводы, валидация, поиск, delete action.

## Создание кастомной сущности и конфигурация
**00:01:03 – 00:09:40**
* Создание сущности `usernaming type`.
* Делание сущности конфигурируемой и расширяемой.
* Определение полей: ID, Title, Format.
* Doctrine mapping.
* Создание Installers.

## Миграции и отношения
**00:09:40 – 00:17:09**
* Добавление Many-to-One отношения через миграцию.
* Обновление installer с элементами миграции.
* Практика корректного порядка создания схемы.

## Фикстуры данных
**00:17:09 – 00:21:00**
* Создание и загрузка data fixtures.
* Наполнение таблиц начальными данными.

## Data Grid и индексная страница
**00:21:00 – 00:31:20**
* Настройка Data Grid (колонки: Title, Format).
* Controller и routing для index.
* YAML-конфигурация грида.
* Меню-элемент для перехода.
* Базовый вывод шаблона.

## Переводы, кеш, конфигурация
**00:31:20 – 00:44:15**
* Структура ключей переводов (`bundle.entity.field.label`).
* `messages.yaml` и локализация.
* Очистка кеша (`v/cache*`) и best practices.
* Команда `oro:entity-config:update`.
* Статусы миграций: отличие хранения в БД и файлах.

## Троблшутинг и настройка Data Grid
**00:44:15 – 01:12:00**
* Диагностика проблем routing и шаблонов.
* Расположение шаблонов (`resources/views`).
* Sorters и filters в колонках.
* Кастомные Twig-шаблоны для ячеек.

## Пути шаблонов и UI события
**01:12:00 – 01:19:30**
* Нотация путей Twig: `@BundleName/path/to/template.html.twig`.
* UI event dispatch (`oro_scroll_data_before`).

## Доступ к данным в Twig и сложные сохранения
**01:19:30 – 01:35:50**
* Использование `value`, `record` в ячейках.
* Подготовка к сложным формам.
* Кастомные form handlers для нестандартных save actions.

## View (Read) страница: отображение и вложенные компоненты
**01:35:50 – 01:50:00**
* Структура шаблона View (блоки).
* Рендеринг свойств.
* Встраивание Data Grid с параметрами.
* Проброс параметров (where-условия).

## Create / Update и сохранение
**01:50:00 – 01:59:20**
* Контроллеры и шаблоны для форм.
* Update Handler Facade: единообразное сохранение.

## Глобальное удаление
**01:59:20 – 02:07:10**
* Delete action (глобальная кнопка).
* Предусловия: route name, наличие в конфигурации, grida.
* Отображение на View и в гриде.

## Валидация
**02:07:10 – 02:18:20**
* Symfony Validator Component.
* `validation.yaml` структура.
* Кастомные constraints и validators.

## Поиск и индекс
**02:18:20 – 02:30:00**
* Добавление сущности в поисковый индекс.
* `resources/config/oro/search.yaml`.
* Поля и связи для индексирования.
* Шаблон результата поиска.
* Команда `oro:search:reindex`.

## Автокомплит и обработчик поиска
**02:30:00 – 02:38:00**
* Поля автодополнения на базе индекса.
* Search handler (service definition).
* Интеграция с формами.

## Best Practices, Q&A и практика
**02:38:00 – 02:53:00**
* Лучшие практики по переводам и локализации.
* Q&A: доступ к данным в гриде и шаблонах.
* Пояснения по сложным сохранениям.
* Практика: View Page, Delete Button, опциональный поиск.
* Завершение сессии.

## Резюме дня
* Полный цикл: сущность → миграции → данные → UI (Grid/View/Form) → действия (Create/Update/Delete).
* Локализация и валидация как обязательные слои качества.
* Поисковая интеграция и автокомплит повышают UX.
* Внимание к конфигурируемости и расширяемости на каждом этапе.